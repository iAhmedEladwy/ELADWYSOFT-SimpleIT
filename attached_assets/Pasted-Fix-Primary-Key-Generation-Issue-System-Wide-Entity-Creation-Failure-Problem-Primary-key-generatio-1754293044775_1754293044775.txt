Fix Primary Key Generation Issue - System-Wide Entity Creation Failure
Problem
Primary key generation is broken across the entire application affecting:

Employee creation - emp_id constraint violation (import AND manual)
Asset creation - asset_id constraint violation (manual creation failing)
Ticket creation - ticket_id constraint violation (import failing)

Error Pattern:
null value in column "asset_id/emp_id/ticket_id" of relation "table" violates not-null constraint
Critical: Complete System Breakdown of Entity Creation
1. Database Schema Fix for ALL Primary Keys (URGENT)

Convert asset_id column to auto-increment/SERIAL type
Convert emp_id column to auto-increment/SERIAL type
Convert ticket_id column to auto-increment/SERIAL type
Reset all sequences to start from correct next values
Test database generates unique IDs for all entity types

2. Fix ALL Entity Creation API Endpoints

Update asset creation API - remove asset_id from INSERT statements
Update employee creation API (POST /api/employees/create-raw) - remove emp_id
Update ticket creation API - remove ticket_id from INSERT statements
Use RETURNING clause in all APIs to get generated IDs
Test all creation endpoints work with auto-increment

3. Fix Manual Creation Forms for ALL Entities

Remove asset_id field from asset creation form
Remove emp_id field from employee creation form
Remove ticket_id field from ticket creation form
Don't send ID fields in any form submission data
Update form validation to exclude all ID fields
Show generated IDs in success messages

4. Fix Import Processes for ALL Entities

Remove asset_id from asset import data before API calls
Remove emp_id from employee import data before API calls
Remove ticket_id from ticket import data before API calls
Update ALL field mapping interfaces to exclude ID fields
Mark all ID fields as "System Generated" in mapping UI
Update ALL import templates to remove ID columns

5. Fix Database Storage Layer
Based on error stack trace:

Fix DatabaseStorage.createAsset method at line 2857 in dist/index.js
Fix similar methods for employee and ticket creation
Remove ID fields from all INSERT operations
Use database auto-increment for all primary keys
Update all database queries to exclude manual ID assignment

6. Test ALL Entity Creation Workflows

Manual asset creation through UI
Manual employee creation through UI
Manual ticket creation through UI
Asset import through file upload
Employee import through file upload
Ticket import through file upload
Verify unique IDs generated for all workflows
Confirm no constraint violations anywhere

7. System-Wide Impact Assessment
This affects:

Basic application functionality - users cannot create any new records
All CRUD operations - CREATE is completely broken
Data integrity - no new entities can be added to system
User productivity - core features are non-functional

Immediate Action Required

Database schema changes - highest priority to restore basic functionality
API endpoint fixes - remove ID fields from all creation methods
Form updates - exclude ID fields from all UI forms
Import fixes - exclude ID fields from all import processes
Comprehensive testing - verify all entity creation works

This is a critical system failure requiring immediate attention to restore basic application functionality.
1. Fix Database Schema for emp_id (URGENT)

Convert emp_id column to auto-increment/SERIAL type immediately
This fixes both import AND manual creation at the database level
Reset sequence to start from correct next value
Test that database generates unique emp_id automatically

2. Fix Employee Creation API Endpoint

Update POST /api/employees/create-raw endpoint (used by both import and manual creation)
Remove emp_id field from all INSERT statements
Use RETURNING clause to get generated emp_id back
This fixes both workflows with single API change

3. Fix Manual Employee Creation Form

Remove emp_id field from employee creation form
Don't send emp_id in form submission data
Update form validation to exclude emp_id
Show generated emp_id in success message after creation

4. Fix Employee Import Process

Remove emp_id from import data before API call
Update field mapping interface to exclude emp_id
Mark emp_id as "System Generated" in mapping UI
Update import templates to remove emp_id column

5. Test Both Employee Creation Methods

Test manual employee creation through UI form
Test employee import through file upload
Verify both generate unique emp_id automatically
Confirm no constraint violations in either workflow

6. Apply Same Fix to Assets and Tickets Creation
This issue likely affects:

Manual asset creation - probably also failing with asset_id constraint
Manual ticket creation - probably also failing with ticket_id constraint
All creation APIs need the same auto-increment fix

7. System-Wide Primary Key Fix Required

Fix ALL entity creation (manual and import) for all types
Convert all primary keys to database auto-increment
Update all creation APIs to exclude ID fields
Update all creation forms to exclude ID fields
Update all import processes to exclude ID fields

This is a fundamental system issue affecting the entire application's ability to create new records, not just imports.
Solution: Apply Auto-Increment Fix to Employees Table
1. Database Schema Fix for Employees

Convert emp_id column to auto-increment/SERIAL type
Remove emp_id from INSERT statements in employees import
Let database generate emp_id automatically
Reset sequence to start from correct next value if existing data present

2. Fix Employees API Endpoint

Update POST /api/employees/create-raw endpoint
Remove emp_id field from INSERT column list
Use RETURNING clause to get generated emp_id back
Update response to include generated emp_id

3. Fix Employees Import Logic

Remove any emp_id generation in application code
Exclude emp_id from import data before sending to API
Update field mapping interface to mark emp_id as "System Generated"
Prevent users from mapping emp_id field in import interface

4. Update Employees Field Mapping

Mark emp_id as auto-generated in employees mapping interface
Show emp_id as "System Generated - Do Not Map"
Remove emp_id from required field validation
Focus validation on actual user-provided fields like English Name

5. Fix Employees Import Template

Remove emp_id column from downloadable employees template
Update template to exclude auto-generated fields
Keep only user-provided fields in template structure
Add note explaining emp_id is automatically generated

6. Test Employees Import

Verify emp_id is generated automatically by database
Test that employees import successfully without emp_id in source data
Confirm unique sequential IDs are created for each employee
Check that other required fields like English Name are properly validated

7. Apply Same Fix Pattern to All Entity Types
This is the same issue affecting:

Assets import → asset_id constraint violation
Tickets import → ticket_id constraint violation
Employees import → emp_id constraint violation

Consistent Solution:

Convert all primary keys to database auto-increment
Remove ID fields from all import processes
Update all field mapping interfaces to exclude auto-generated IDs
Update all import templates to exclude ID columns

This ensures all entity imports work with proper auto-generated primary keys.